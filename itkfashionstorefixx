# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'tubestemenjein.ui'
#
# Created by: PyQt5 UI code generator 5.15.7
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.

from PyQt5 import QtCore, QtGui, QtWidgets
from  tkinter import messagebox


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(800, 600)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.tambah = QtWidgets.QPushButton(self.centralwidget,clicked=lambda:self.tambahin())
        self.tambah.setGeometry(QtCore.QRect(660, 60, 121, 41))
        self.tambah.setObjectName("tambah")
        self.listview = QtWidgets.QListWidget(self.centralwidget)
        self.listview.setGeometry(QtCore.QRect(20, 120, 761, 231))
        self.listview.setObjectName("listview")
        self.listbarang = QtWidgets.QComboBox(self.centralwidget)
        self.listbarang.setGeometry(QtCore.QRect(20, 60, 551, 41))
        self.listbarang.setObjectName("listbarang")
        self.listbarang.addItem("Syahiva Dress (Rp. 249.000)",249000)
        self.listbarang.addItem("Syhrin Dress (Rp. 280.000)",280000)
        self.listbarang.addItem("Mijo Top (Rp. 125.000)",125000)
        self.listbarang.addItem("Alneta Blovse (Rp. 150.000)",150000)
        self.listbarang.addItem("Melra Top (Rp. 129.000)",129000)
        self.listbarang.addItem("Cutbray Jeans (Rp. 250.000)",250000)
        self.listbarang.addItem("Angelonia Skirt (Rp. 199.000)",199000)
        self.nilai = QtWidgets.QLineEdit(self.centralwidget)
        self.nilai.setGeometry(QtCore.QRect(580, 60, 71, 41))
        self.nilai.setObjectName("nilai")
        self.nilai.setEnabled(True)
        self.totalharga = QtWidgets.QLabel(self.centralwidget)
        self.totalharga.setGeometry(QtCore.QRect(20, 380, 321, 41))
        self.totalharga.setStyleSheet("border-color: rgb(0, 0, 0);")
        self.totalharga.setFrameShape(QtWidgets.QFrame.Box)
        self.totalharga.setObjectName("totalharga")
        self.cekout = QtWidgets.QPushButton(self.centralwidget,clicked=lambda:self.cek())
        self.cekout.setGeometry(QtCore.QRect(350, 400, 111, 51))
        self.cekout.setObjectName("Chekout")
        self.diskon = QtWidgets.QLabel(self.centralwidget)
        self.diskon.setGeometry(QtCore.QRect(20, 430, 321, 41))
        self.diskon.setStyleSheet("border-color: rgb(0, 0, 0);")
        self.diskon.setFrameShape(QtWidgets.QFrame.Box)
        self.diskon.setObjectName("diskon")
        self.totalbayar = QtWidgets.QLabel(self.centralwidget)
        self.totalbayar.setGeometry(QtCore.QRect(470, 400, 311, 51))
        self.totalbayar.setStyleSheet("border-color: rgb(0, 0, 0);")
        self.totalbayar.setFrameShape(QtWidgets.QFrame.Box)
        self.totalbayar.setObjectName("totalbayar")
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 800, 26))
        self.menubar.setObjectName("menubar")
        self.menuitekafashionStore = QtWidgets.QMenu(self.menubar)
        self.menuitekafashionStore.setObjectName("menuitekafashionStore")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)
        self.action = QtWidgets.QAction(MainWindow)
        self.action.setObjectName("action")
        self.menuitekafashionStore.addAction(self.action)
        self.menubar.addAction(self.menuitekafashionStore.menuAction())

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.hargatotall = 0
        self.semuabarang = 0
        self.diskonan = 0


    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.tambah.setText(_translate("MainWindow", "Tambahkan"))
        self.totalharga.setText(_translate("MainWindow", "Total Harga"))
        self.cekout.setText(_translate("MainWindow", "Checkout"))
        self.diskon.setText(_translate("MainWindow", "Diskon: "))
        self.totalbayar.setText(_translate("MainWindow", "Total Bayar:"))
        self.menuitekafashionStore.setTitle(_translate("MainWindow", "itekafashionStore"))
        self.action.setText(_translate("MainWindow", "ITK"))
        
    def tambahin(self):
        barang = self.listbarang.currentText()
        jumlah = self.nilai.text()
        if jumlah == "":
            messagebox.showerror("Error", "Masukkan Nilai Yang Benar!!")
        else :
            jumlah = int(jumlah)
            if jumlah < 1:
                messagebox.showerror("Error", "Masukkan Nilai Yang Benar!!")
            else:
                hargabarang = self.listbarang.currentData()
                listbarang = barang + "\t x " + f"{jumlah}"
                self.hargatotall += hargabarang*jumlah
                self.listview.addItem(listbarang)
                hargatotall = f"Rp. {self.hargatotall}"
                self.totalharga.setText(hargatotall)
                totalsemua = self.hargatotall
                self.diskonan = totalsemua * (15 / 100)
                self.diskonan = int(self.diskonan)
                teksdiskon = f"Rp. {self.diskonan}"
                self.diskon.setText(teksdiskon)
    def cek(self):
        if self.hargatotall >500000:
            semuanya = 0
            semuanya = self.hargatotall - self.diskonan
            semuanya = f"Rp. {semuanya}"
            self.totalbayar.setText(semuanya)
            self.listview.clear()
            self.hargatotall = 0
            self.diskonan = 0
            totalhargasemua = 0
            self.totalharga.setText("0")
            self.diskon.setText("0")
        else:
            semuanya = 0
            semuanya = f"Rp. {self.hargatotall}"
            self.totalbayar.setText(semuanya)
            self.listview.clear()
            self.hargatotall = 0
            self.diskonan = 0
            totalhargasemua = 0
            self.totalharga.setText("0")
            self.diskon.setText("0")


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
